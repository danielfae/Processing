<html>

<!--
#### Notes

1. The variable `direction` holds the direction of the ballâ€™s motion. It is
used [on line 48](https://github.com/DGMD-E-15/Processing-
Tutorial-01/blob/master/07.html#L48) to change the sign of the change to the
amount by which the `y` position of the ball is changed [on line
46](https://github.com/DGMD-E-15/Processing-
Tutorial-01/blob/master/07.html#L46).

2. [Line 48](https://github.com/DGMD-E-15/Processing-
Tutorial-01/blob/master/07.html#L48) is run only if the ball moves outside the
bounds of the sketch as determined by testing its `y` position compared to the
top and bottom of the sketch on line 47. (`||` is a [logical
OR](http://processingjs.org/learning/basic/logicaloperators/).)
-->

<head>
    <script src='processing-1.4.1.js'></script>
    <style>
    canvas {
        outline: none;
    }
    /* So that when we click, the canvas isn't outlined */
    </style>
</head>

<body>
    <canvas></canvas>
</body>

<script>
var canvas = document.getElementsByTagName('canvas')[0];

function sketch(p) {

    var x, y;
    var direction;

    function setup() {
        p.size(200, 200);

        p.ellipseMode(p.CENTER);

        p.println("width: " + p.width + ", height: " + p.height);

        x = p.width / 2;
        y = p.height / 2;
        direction = 1;

        drawPattern();
        //p.noLoop();
    }

    function draw() {
        p.background(0);
        if (p.frameCount < 60) {
            drawPattern();
        } else {
            ball(x, y);
            y += 2 * direction;
            if ((y > p.height) || (y < 0)) {
                direction *= -1;
            }
        }
    }

    function drawPattern() {
        // p.println("drawing test pattern...")
        p.stroke(0, 0, 255); // set the stroke color to blue
        p.line(10, 10, p.width / 2 - 10, p.height / 2 - 10); // draw a line from (10,10) to (90,90)

        p.stroke(0, 255, 0); // set the stroke color to green
        p.line(p.width / 2 + 10, p.height / 2 + 10, p.width - 10, p.height - 10); // draw a line from (110,110) to (190,190)

        p.stroke(255, 0, 0); // set the stroke color to red
        p.line(p.width - 10, 10, p.width / 2 + 10, p.height / 2 - 10); // draw a line from (190,10) to (110,90)

        p.stroke(255, 255, 0); // set the stroke color to yellow
        p.line(p.width / 2 - 10, p.height / 2 + 10, 10, p.height - 10);
    }


    function ball(x, y) {
        // p.println("drawing ball...");           
        p.fill(255);
        p.noStroke();
        p.ellipse(x, y, 25, 25);

    }

    p.setup = setup;
    p.draw = draw;

}

var p = new Processing(canvas, sketch); // actually attach and run the sketch
</script>

</html>